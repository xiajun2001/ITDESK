import{_ as L,r as s,u as E,s as N,o as B,b as n,d as F,e as P,f as y,g as l,j as r,h as U,p as _,k as z,l as m,m as H,i as j,E as q}from"../3rdPlugin/3rdPlugin.CEm3-_ST.js";const O={class:"app-container"},G={class:"card-header"},I={class:"pagination-container"},W={__name:"control-record",setup($){const v=s(!1),h=s([]),f=s(0),d=s(1),b=s(10),u=s({ciName:"",updateTimeRange:[],startTime:"",endTime:"",pageNum:1,pageSize:10}),T=E(),e=N(()=>T.currentLang),a=N(()=>({computerHistory:e.value==="zh"?"电脑修改记录":"Computer History Records",computerName:e.value==="zh"?"电脑名":"Computer Name",enterComputerName:e.value==="zh"?"输入电脑名":"Enter computer name",updateDate:e.value==="zh"?"更新日期":"Update Date",dateTo:e.value==="zh"?"至":"to",startDate:e.value==="zh"?"开始日期":"Start Date",endDate:e.value==="zh"?"结束日期":"End Date",search:e.value==="zh"?"搜索":"Search",reset:e.value==="zh"?"重置":"Reset",sequence:e.value==="zh"?"序号":"No.",computerStatus:e.value==="zh"?"电脑状态":"Status",serialNumber:e.value==="zh"?"序列号":"Serial Number",deviceType:e.value==="zh"?"设备类型":"Device Type",manufacturer:e.value==="zh"?"制造商":"Manufacturer",model:e.value==="zh"?"型号":"Model",ntAccount:e.value==="zh"?"NT账号":"NT Account",computerCategory:e.value==="zh"?"电脑归属情况":"Category",comment:e.value==="zh"?"备注":"Comment",lastName:e.value==="zh"?"姓":"Last Name",firstName:e.value==="zh"?"名":"First Name",email:e.value==="zh"?"邮箱地址":"Email",department:e.value==="zh"?"所属部门":"Department",phone:e.value==="zh"?"电话号码":"Phone",costCenter:e.value==="zh"?"成本中心":"Cost Center",manufactureDate:e.value==="zh"?"出厂时间":"Manufacture Date",yearsSinceManufacture:e.value==="zh"?"出厂日期到今天的时间":"Years Since Manufacture",memory:e.value==="zh"?"内存":"Memory",disk:e.value==="zh"?"硬盘":"Disk",graphics:e.value==="zh"?"显卡":"Graphics",hardwareStatus:e.value==="zh"?"硬件状态":"Hardware Status",pr:e.value==="zh"?"下单号":"PR",po:e.value==="zh"?"订单号":"PO",vendor:e.value==="zh"?"供应商公司":"Vendor",company:e.value==="zh"?"公司":"Company",wbsNum:e.value==="zh"?"资产号":"WBS No.",price:e.value==="zh"?"价格":"Price",tempAssignment:e.value==="zh"?"临时分配标识":"Temp Assignment",updateTime:e.value==="zh"?"更新时间":"Update Time",yes:e.value==="zh"?"是":"Yes",no:e.value==="zh"?"否":"No"})),i=()=>{v.value=!0,h.value=[],u.value.updateTimeRange&&u.value.updateTimeRange.length===2?(u.value.startTime=u.value.updateTimeRange[0],u.value.endTime=u.value.updateTimeRange[1]):(u.value.startTime="",u.value.endTime="");const p={ciName:u.value.ciName?`%${u.value.ciName}%`:null,startTime:u.value.startTime||null,endTime:u.value.endTime||null,pageNum:d.value,pageSize:b.value};j.post("/sysControl/getControlRecordList",p,{headers:{"Content-Type":"application/json"}}).then(o=>{console.log("获取记录列表响应:",o),o.data&&(h.value=o.data.list||[],f.value=o.data.total||0)}).catch(o=>{console.error("Failed to fetch record list:",o),q.error(e.value==="zh"?"获取记录列表失败":"Failed to fetch record list")}).finally(()=>{v.value=!1})},C=()=>{u.value.ciName="",u.value.updateTimeRange=[],u.value.startTime="",u.value.endTime="",d.value=1,u.value.pageNum=1,i()},S=p=>{b.value=p,u.value.pageSize=p,i()},D=p=>{d.value=p,u.value.pageNum=p,i()};return B(()=>{i()}),(p,o)=>{const R=n("el-input"),g=n("el-form-item"),M=n("el-date-picker"),w=n("el-button"),k=n("el-form"),t=n("el-table-column"),x=n("el-table"),V=n("el-pagination"),Y=n("el-card"),A=F("loading");return y(),P("div",O,[l(Y,{class:"box-card"},{header:r(()=>[_("div",G,[_("span",null,m(a.value.computerHistory),1)])]),default:r(()=>[l(k,{model:u.value,inline:!0,class:"search-form"},{default:r(()=>[l(g,{label:a.value.computerName},{default:r(()=>[l(R,{modelValue:u.value.ciName,"onUpdate:modelValue":o[0]||(o[0]=c=>u.value.ciName=c),placeholder:a.value.enterComputerName,clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(g,{label:a.value.updateDate},{default:r(()=>[l(M,{modelValue:u.value.updateTimeRange,"onUpdate:modelValue":o[1]||(o[1]=c=>u.value.updateTimeRange=c),type:"daterange","range-separator":a.value.dateTo,"start-placeholder":a.value.startDate,"end-placeholder":a.value.endDate,format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",clearable:""},null,8,["modelValue","range-separator","start-placeholder","end-placeholder"])]),_:1},8,["label"]),l(g,null,{default:r(()=>[l(w,{type:"primary",onClick:i},{default:r(()=>[z(m(a.value.search),1)]),_:1}),l(w,{onClick:C},{default:r(()=>[z(m(a.value.reset),1)]),_:1})]),_:1})]),_:1},8,["model"]),U((y(),H(x,{data:h.value,border:"",style:{width:"100%","overflow-x":"auto"},"table-layout":"fixed"},{default:r(()=>[l(t,{type:"index",label:a.value.sequence,width:"80"},null,8,["label"]),l(t,{prop:"ciName",label:a.value.computerName,width:"160"},null,8,["label"]),l(t,{prop:"pcStatus",label:a.value.computerStatus,width:"120"},null,8,["label"]),l(t,{prop:"serialNumber",label:a.value.serialNumber,width:"150"},null,8,["label"]),l(t,{prop:"deviceClass",label:a.value.deviceType,width:"120"},null,8,["label"]),l(t,{prop:"manufacture",label:a.value.manufacturer,width:"120"},null,8,["label"]),l(t,{prop:"modelOrVersion",label:a.value.model,width:"120"},null,8,["label"]),l(t,{prop:"ntAccount",label:a.value.ntAccount,width:"150"},null,8,["label"]),l(t,{prop:"pcClass",label:a.value.computerCategory,width:"150"},null,8,["label"]),l(t,{prop:"comment",label:a.value.comment,width:"150"},null,8,["label"]),l(t,{prop:"lastName",label:a.value.lastName,width:"100"},null,8,["label"]),l(t,{prop:"firstName",label:a.value.firstName,width:"100"},null,8,["label"]),l(t,{prop:"emailAddress",label:a.value.email,width:"200"},null,8,["label"]),l(t,{prop:"department",label:a.value.department,width:"150"},null,8,["label"]),l(t,{prop:"telephone",label:a.value.phone,width:"150"},null,8,["label"]),l(t,{prop:"costCenter",label:a.value.costCenter,width:"120"},null,8,["label"]),l(t,{prop:"lifeCycleStart",label:a.value.manufactureDate,width:"120"},null,8,["label"]),l(t,{prop:"yrsToDay",label:a.value.yearsSinceManufacture,width:"200"},null,8,["label"]),l(t,{prop:"cpu",label:"CPU",width:"150"}),l(t,{prop:"memory",label:a.value.memory,width:"100"},null,8,["label"]),l(t,{prop:"disk",label:a.value.disk,width:"100"},null,8,["label"]),l(t,{prop:"graphic",label:a.value.graphics,width:"100"},null,8,["label"]),l(t,{prop:"hardwareStatus",label:a.value.hardwareStatus,width:"120"},null,8,["label"]),l(t,{prop:"pr",label:a.value.pr,width:"120"},null,8,["label"]),l(t,{prop:"po",label:a.value.po,width:"120"},null,8,["label"]),l(t,{prop:"vendor",label:a.value.vendor,width:"150"},null,8,["label"]),l(t,{prop:"company",label:a.value.company,width:"120"},null,8,["label"]),l(t,{prop:"wbsNum",label:a.value.wbsNum,width:"120"},null,8,["label"]),l(t,{prop:"price",label:a.value.price,width:"100"},null,8,["label"]),l(t,{prop:"temp",label:a.value.tempAssignment,width:"120"},{default:r(c=>[z(m(c.row.temp===1?a.value.yes:a.value.no),1)]),_:1},8,["label"]),l(t,{prop:"updateTime",label:a.value.updateTime,width:"180",fixed:"right"},null,8,["label"])]),_:1},8,["data"])),[[A,v.value]]),_("div",I,[l(V,{"current-page":d.value,"page-size":b.value,"page-sizes":[10,20,30,50],layout:"total, sizes, prev, pager, next, jumper",total:f.value,onSizeChange:S,onCurrentChange:D},null,8,["current-page","page-size","total"])])]),_:1})])}}},K=L(W,[["__scopeId","data-v-c4b6cfbb"]]);export{K as default};
