import{_ as We,u as Xe,s as he,r as d,o as Ye,i as w,w as Ze,b as h,d as el,e as z,f as _,g as a,p as i,j as o,k as n,l as r,h as C,m as V,n as oe,F as _e,q as be,D as ge,A as ll,E as k,O as al,I as tl,J as ol}from"../3rdPlugin/3rdPlugin.CEm3-_ST.js";const sl=D=>(tl("data-v-cf931654"),D=D(),ol(),D),ul={class:"page"},rl={class:"top_btn_panel"},dl={class:"usr_user_panel"},nl={class:"usr_user_panel_left"},il={class:"user_role_list_panel"},pl={class:"usr_user_panel_right"},vl={class:"action_btn"},cl={class:"add_user_form"},ml={class:"dialog-footer"},fl={class:"edit_user_form"},hl={class:"dialog-footer"},_l={class:"delete_logic_dialog"},bl={class:"dialog-footer"},gl={class:"restore_dialog"},yl={class:"dialog-footer"},wl={class:"delete_dialog"},Ul={class:"dialog-footer"},Vl={class:"restore_password_dialog"},xl=["innerHTML"],zl={class:"dialog-footer"},kl={class:"distribute_role_dialog"},Nl={class:"dialog-footer"},Cl={class:"approver-update-container"},Rl={class:"update-header"},Al={class:"header-title"},Pl={class:"header-description"},Tl={class:"update-content"},Dl=sl(()=>i("i",{class:"el-icon-upload"},null,-1)),Sl={class:"el-upload__tip"},Il={class:"dialog-footer"},Ll={__name:"page-user",setup(D){const ye=Xe(),u=he(()=>ye.currentLang),e=he(()=>({ntAccount:u.value==="zh"?"NT账号":"NT Account",department:u.value==="zh"?"部门":"Department",userName:u.value==="zh"?"用户名称":"User Name",company:u.value==="zh"?"公司":"Company",status:u.value==="zh"?"状态":"Status",selectCompany:u.value==="zh"?"选择公司":"Select Company",selectStatus:u.value==="zh"?"选择状态":"Select Status",normal:u.value==="zh"?"正常":"Normal",disabled:u.value==="zh"?"禁用":"Disabled",search:u.value==="zh"?"搜索":"Search",updateAdUsers:u.value==="zh"?"更新AD域用户":"Update AD Users",updateApprover:u.value==="zh"?"审批人更新":"Update Approvers",addUser:u.value==="zh"?"添加用户":"Add User",cancel:u.value==="zh"?"取消":"Cancel",confirm:u.value==="zh"?"确定":"Confirm",assignRole:u.value==="zh"?"分配角色":"Assign Role",highestAuthority:u.value==="zh"?"最高权限":"Highest Authority",accountDisabled:u.value==="zh"?"账号已禁用":"Account Disabled",phone:u.value==="zh"?"手机号":"Phone",email:u.value==="zh"?"邮箱":"Email",role:u.value==="zh"?"角色":"Role",responsiblePerson:u.value==="zh"?"责任人":"Responsible Person",costCenter:u.value==="zh"?"成本中心":"Cost Center",gender:u.value==="zh"?"性别":"Gender",createTime:u.value==="zh"?"创建时间":"Create Time",updateTime:u.value==="zh"?"更新时间":"Update Time",operations:u.value==="zh"?"操作":"Operations",female:u.value==="zh"?"女":"Female",male:u.value==="zh"?"男":"Male",unknown:u.value==="zh"?"未知":"Unknown",addUserTitle:u.value==="zh"?"添加用户":"Add User",editUserTitle:u.value==="zh"?"编辑用户":"Edit User",deleteUserTitle:u.value==="zh"?"删除用户":"Delete User",restoreUserTitle:u.value==="zh"?"恢复用户":"Restore User",resetPasswordTitle:u.value==="zh"?"重置密码":"Reset Password",assignRoleTitle:u.value==="zh"?"分配角色":"Assign Role",updateApproverTitle:u.value==="zh"?"审批人更新":"Update Approver",enterUsername:u.value==="zh"?"请输入用户名":"Please enter username",enterNickname:u.value==="zh"?"请输入用户昵称":"Please enter nickname",enterPhone:u.value==="zh"?"请输入手机号":"Please enter phone number",selectDepartment:u.value==="zh"?"请选择部门":"Please select department",enterEmail:u.value==="zh"?"请输入邮箱地址":"Please enter email address",selectGender:u.value==="zh"?"选择性别":"Select gender",enterPassword:u.value==="zh"?"请输入密码":"Please enter password",selectRole:u.value==="zh"?"请选择角色":"Please select role",usernameTooltip:u.value==="zh"?"用户名为登录账号，<br/>系统唯一，不能重复；<br/>不能被修改，请谨慎设置。":"Username is login account,<br/>must be unique in system;<br/>cannot be modified later.",selectExcelFile:u.value==="zh"?"选择Excel文件":"Select Excel File",uploadTip:u.value==="zh"?"请上传.xlsx或.xls格式的文件":"Please upload .xlsx or .xls file",approverUpdateInfo:u.value==="zh"?"审批人信息更新":"Approver Information Update",uploadExcelPrompt:u.value==="zh"?"请上传包含审批人信息的Excel文件":"Please upload Excel file with approver information",usernameRequired:u.value==="zh"?"请输入用户名":"Please enter username",usernameExists:u.value==="zh"?"用户名已存在":"Username already exists",nicknameRequired:u.value==="zh"?"请输入用户昵称":"Please enter nickname",passwordRequired:u.value==="zh"?"请输入密码":"Please enter password",selectExcelPrompt:u.value==="zh"?"请选择Excel文件":"Please select an Excel file",updateSuccess:u.value==="zh"?"审批人更新成功":"Approver update successful",updateFailed:u.value==="zh"?"审批人更新失败":"Approver update failed",deleteUserConfirm:(s,l)=>u.value==="zh"?`确定删除用户【${s} - ${l}】吗？`:`Are you sure you want to delete user [${s} - ${l}]?`,restoreUserConfirm:(s,l)=>u.value==="zh"?`确定恢复用户【${s} - ${l}】吗？`:`Are you sure you want to restore user [${s} - ${l}]?`,deleteUserPermanentConfirm:(s,l)=>u.value==="zh"?`确定彻底删除用户【${s} - ${l}】吗？删除后不可恢复！`:`Are you sure you want to permanently delete user [${s} - ${l}]? This cannot be undone!`,resetPasswordConfirm:(s,l)=>u.value==="zh"?`确定重置用户【${s} - ${l}】的密码吗？<br />重置后密码为：123456`:`Are you sure you want to reset password for user [${s} - ${l}]?<br />Password will be: 123456`,allRoles:u.value==="zh"?"全部角色":"All Roles",keyword:u.value==="zh"?"关键字":"Keyword",noData:u.value==="zh"?"暂无数据":"No Data"})),f=d({userId:"",userName:"",userNick:"",phone:"",userRoleId:"",status:"0",department:"",company:"",pageNum:1,pageSize:10}),M=d(!1),se=d(0),ue=d([]),re=["游客","开发工程师"];Ye(()=>{we(),y()});const B=d(!1),H=d(""),de=d(null),ne=d([]),we=()=>{B.value=!0,w.get("/sysRole/selectSysRoleCommonList").then(s=>{const l=(s.data.list||[]).filter(p=>!re.includes(p.roleName));ne.value=[{roleId:"",roleName:e.value.allRoles,children:l}]}).catch(s=>{console.error(s)}).finally(()=>{B.value=!1})},y=()=>{M.value=!0,w.post("/sysUser/selectSysUserList",{...f.value}).then(s=>{ue.value=s.data.list||[],se.value=s.data.total}).catch(s=>{console.error(s)}).finally(()=>{M.value=!1})};Ze(H,s=>{de.value.filter(s)});const Ue=(s,l)=>s?l.roleName.indexOf(s)!==-1:!0,Ve=s=>{f.value.userRoleId=s.roleId,f.value.pageNum=1,y()},xe=s=>{f.value.pageNum=s,y()},O=d(!1),ze=()=>{O.value=!0,w.get("/sysLadp/linkLDAPRefreshAllInfo",{timeout:12e4}).then(s=>{s.msg?k.success(s.msg):s.data?k.success(s.data):k.success(u.value==="zh"?"AD域用户更新成功":"AD users updated successfully"),y()}).catch(s=>{var p,v;console.error(s);const l=((v=(p=s.response)==null?void 0:p.data)==null?void 0:v.msg)||s.message||(u.value==="zh"?"AD域用户更新失败":"Failed to update AD users");k.error(l)}).finally(()=>{O.value=!1})},ke=d(!1),R=d(!1),S=d(null),I=d(!1),Ne=()=>{R.value=!0},Ce=()=>{if(!S.value){k.warning(e.value.selectExcelPrompt);return}I.value=!0;const s=new FormData;s.append("file",S.value),w.post("/sysLadp/updateApprover",s,{headers:{"Content-Type":"multipart/form-data"}}).then(l=>{k.success(e.value.updateSuccess),y()}).catch(l=>{console.error(l),k.error(e.value.updateFailed)}).finally(()=>{I.value=!1,R.value=!1,S.value=null})},Re=s=>{S.value=s.raw},b=d({}),L=d(!1),j=d(!1),J=d(!1),ie=d(null),Ae=d({userName:[{required:!0,validator:(s,l,p)=>{l===""||l===void 0||l===null?p(new Error(e.value.usernameRequired)):w.get("/sysUser/checkUserNameUnique?userName="+l).then(v=>{v.data.valid?p():p(new Error(e.value.usernameExists))}).catch(v=>{console.error(v)})},trigger:"blur"}],userNick:[{required:!0,message:()=>e.value.nicknameRequired,trigger:"blur"}],userPassword:[{required:!0,message:()=>e.value.passwordRequired,trigger:"blur"}]}),Pe=d({userNick:[{required:!0,message:()=>e.value.nicknameRequired,trigger:"blur"}]}),Te=()=>{ie.value.validate(s=>{s&&(j.value=!0,J.value=!0,b.value.userPassword=al.encryptPassword(b.value.userPassword),w.post("/sysUser/addSysUser",{...b.value}).then(l=>{y()}).catch(l=>{console.error(l)}).finally(()=>{J.value=!1,j.value=!1,L.value=!1}))})},m=d({}),E=d(!1),K=d(!1),Q=d(!1),pe=d(null),De=()=>{pe.value.validate(s=>{s&&(K.value=!0,Q.value=!0,w.post("/sysUser/updateSysUser",{...m.value}).then(l=>{y()}).catch(l=>{console.error(l)}).finally(()=>{Q.value=!1,K.value=!1,E.value=!1}))})},Se=d(""),$=d(!1),W=d(!1),Ie=()=>{W.value=!0,w.post("/sysUser/resetUserPwd",{...m.value}).then(s=>{y()}).catch(s=>{console.error(s)}).finally(()=>{W.value=!1,$.value=!1})},A=d(!1),P=d(!1),X=d(!1),ve=d([]),Le=s=>{m.value={},m.value.userId=s.userId,m.value.userRoleId=s.userRoleId,A.value=!0,P.value=!0,w.get("/sysRole/selectSysRoleCommonList").then(l=>{ve.value=(l.data.list||[]).filter(p=>!re.includes(p.roleName))}).catch(l=>{console.error(l)}).finally(()=>{P.value=!1})},Ee=()=>{X.value=!0,P.value=!0,w.post("/sysUser/updateSysUserRole",{...m.value}).then(s=>{y()}).catch(s=>{console.error(s)}).finally(()=>{X.value=!1,P.value=!1,A.value=!1})},$e=d(""),F=d(!1),Y=d(!1),Fe=()=>{Y.value=!0,w.post("/sysUser/deleteSysUserLogic",{...m.value}).then(s=>{y()}).catch(s=>{console.error(s)}).finally(()=>{Y.value=!1,F.value=!1})},qe=d(""),q=d(!1),Z=d(!1),Ge=()=>{Z.value=!0,w.post("/sysUser/recoverSysUser",{...m.value}).then(s=>{y()}).catch(s=>{console.error(s)}).finally(()=>{Z.value=!1,q.value=!1})},Me=d(""),G=d(!1),ee=d(!1),Be=()=>{ee.value=!0,w.post("/sysUser/deleteSysUserPhysics",{...m.value}).then(s=>{y()}).catch(s=>{console.error(s)}).finally(()=>{ee.value=!1,G.value=!1})};return(s,l)=>{const p=h("el-input"),v=h("el-form-item"),U=h("el-option"),T=h("el-select"),c=h("el-button"),le=h("el-form"),ae=h("el-card"),He=h("el-tree"),Oe=h("el-scrollbar"),g=h("el-table-column"),te=h("el-text"),ce=h("el-tag"),je=h("el-empty"),Je=h("el-table"),Ke=h("el-pagination"),me=h("el-icon"),fe=h("el-tooltip"),x=h("el-dialog"),Qe=h("el-upload"),N=el("loading");return _(),z("div",ul,[a(ae,{shadow:"never",class:"usr_card_override top"},{default:o(()=>[a(le,{inline:!0,model:f.value},{default:o(()=>[a(v,{label:e.value.ntAccount},{default:o(()=>[a(p,{modelValue:f.value.userName,"onUpdate:modelValue":l[0]||(l[0]=t=>f.value.userName=t),placeholder:e.value.ntAccount,clearable:"",style:{width:"180px"}},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(v,{label:e.value.department},{default:o(()=>[a(p,{modelValue:f.value.department,"onUpdate:modelValue":l[1]||(l[1]=t=>f.value.department=t),placeholder:e.value.department,clearable:"",style:{width:"180px"}},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(v,{label:e.value.userName},{default:o(()=>[a(p,{modelValue:f.value.userNick,"onUpdate:modelValue":l[2]||(l[2]=t=>f.value.userNick=t),placeholder:e.value.userName,clearable:"",style:{width:"180px"}},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(v,{label:e.value.company},{default:o(()=>[a(T,{modelValue:f.value.company,"onUpdate:modelValue":l[3]||(l[3]=t=>f.value.company=t),size:"default",placeholder:e.value.selectCompany,clearable:"",style:{width:"180px"}},{default:o(()=>[a(U,{label:"SGCS",value:"SGCS"}),a(U,{label:"SES",value:"SES"}),a(U,{label:"SGCC",value:"SGCC"})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),a(v,{label:e.value.status},{default:o(()=>[a(T,{modelValue:f.value.status,"onUpdate:modelValue":l[4]||(l[4]=t=>f.value.status=t),size:"default",placeholder:e.value.selectStatus,clearable:"",style:{width:"180px"}},{default:o(()=>[a(U,{label:e.value.normal,value:"0"},null,8,["label"]),a(U,{label:e.value.disabled,value:"-1"},null,8,["label"])]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),a(v,null,{default:o(()=>[a(c,{type:"primary",plain:"",onClick:y},{default:o(()=>[n(r(e.value.search),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),i("div",rl,[a(c,{type:"primary",onClick:ze,loading:O.value},{default:o(()=>[n(r(e.value.updateAdUsers),1)]),_:1},8,["loading"]),a(c,{type:"success",onClick:Ne,loading:ke.value},{default:o(()=>[n(r(e.value.updateApprover),1)]),_:1},8,["loading"])]),i("div",dl,[i("div",nl,[C((_(),V(ae,{shadow:"never"},{default:o(()=>[a(p,{modelValue:H.value,"onUpdate:modelValue":l[5]||(l[5]=t=>H.value=t),placeholder:e.value.keyword,clearable:"",style:{width:"180px"}},null,8,["modelValue","placeholder"]),i("div",il,[a(Oe,null,{default:o(()=>[a(He,{ref_key:"roleListTreeRef",ref:de,class:"usr_role_tree",data:ne.value,"expand-on-click-node":!1,"highlight-current":"",props:{label:"roleName",children:"children"},"default-expand-all":"","filter-node-method":Ue,onNodeClick:Ve},null,8,["data"])]),_:1})])]),_:1})),[[N,B.value]])]),i("div",pl,[C((_(),V(ae,{shadow:"never",class:"usr_card_override content"},{default:o(()=>[a(Je,{class:"user_table",data:ue.value,"row-key":"roleId"},{empty:o(()=>[a(je,{description:e.value.noData},null,8,["description"])]),default:o(()=>[a(g,{prop:"userName",label:e.value.ntAccount,"min-width":"180"},{default:o(t=>[n(r(t.row.userName),1)]),_:1},8,["label"]),a(g,{prop:"userNick",label:e.value.userName,"min-width":"300"},{default:o(t=>[n(r(t.row.userNick),1)]),_:1},8,["label"]),a(g,{prop:"phone",label:e.value.phone,"min-width":"300"},{default:o(t=>[n(r(t.row.phone),1)]),_:1},8,["label"]),a(g,{prop:"email",label:e.value.email,"min-width":"300"},{default:o(t=>[n(r(t.row.email),1)]),_:1},8,["label"]),a(g,{prop:"department",label:e.value.department,"min-width":"220"},{default:o(t=>[n(r(t.row.department),1)]),_:1},8,["label"]),a(g,{prop:"roleName",label:e.value.role,"min-width":"180"},{default:o(t=>[n(r(t.row.roleName),1)]),_:1},8,["label"]),a(g,{prop:"responsibility",label:e.value.responsiblePerson,"min-width":"180"},{default:o(t=>[n(r(t.row.responsibility),1)]),_:1},8,["label"]),a(g,{prop:"company",label:e.value.company,"min-width":"120"},{default:o(t=>[n(r(t.row.company),1)]),_:1},8,["label"]),a(g,{prop:"costCenter",label:e.value.costCenter,"min-width":"150"},{default:o(t=>[n(r(t.row.costCenter),1)]),_:1},8,["label"]),a(g,{label:e.value.gender,align:"center","min-width":"100"},{default:o(t=>[t.row.sex===0?(_(),V(te,{key:0},{default:o(()=>[n(r(e.value.female),1)]),_:1})):t.row.sex===1?(_(),V(te,{key:1},{default:o(()=>[n(r(e.value.male),1)]),_:1})):(_(),V(te,{key:2},{default:o(()=>[n(r(e.value.unknown),1)]),_:1}))]),_:1},8,["label"]),a(g,{prop:"createTime",label:e.value.createTime,"min-width":"150"},{default:o(t=>[n(r(t.row.createTime),1)]),_:1},8,["label"]),a(g,{prop:"updateTime",label:e.value.updateTime,"min-width":"150"},{default:o(t=>[n(r(t.row.updateTime),1)]),_:1},8,["label"]),a(g,{label:e.value.status,align:"center","min-width":"100"},{default:o(t=>[t.row.status===0?(_(),V(ce,{key:0},{default:o(()=>[n(r(e.value.normal),1)]),_:1})):t.row.status===-1?(_(),V(ce,{key:1,type:"warning"},{default:o(()=>[n(r(e.value.disabled),1)]),_:1})):oe("",!0)]),_:1},8,["label"]),a(g,{fixed:"right",label:e.value.operations,"min-width":"180"},{default:o(t=>[i("div",vl,[t.row.status===0?(_(),z(_e,{key:0},[t.row.roleName==="超级管理员"?(_(),V(c,{key:0,class:"highest-authority-btn",type:"warning",disabled:""},{default:o(()=>[n(r(e.value.highestAuthority),1)]),_:1})):(_(),V(c,{key:1,type:"primary",plain:"",onClick:$l=>Le(t.row)},{default:o(()=>[n(r(e.value.assignRole),1)]),_:2},1032,["onClick"]))],64)):oe("",!0),t.row.status===-1?(_(),V(c,{key:1,type:"info",plain:"",disabled:""},{default:o(()=>[n(r(e.value.accountDisabled),1)]),_:1})):oe("",!0)])]),_:1},8,["label"])]),_:1},8,["data"]),a(Ke,{background:"",layout:"prev, pager, next","current-page":f.value.pageNum,onCurrentChange:xe,"page-size":f.value.pageSize,total:se.value},null,8,["current-page","page-size","total"])]),_:1})),[[N,M.value]])])]),a(x,{class:"add_user_dialog",title:e.value.addUserTitle,"close-on-click-modal":!1,modelValue:L.value,"onUpdate:modelValue":l[14]||(l[14]=t=>L.value=t),width:"600"},{footer:o(()=>[i("div",ml,[a(c,{onClick:l[13]||(l[13]=t=>L.value=!1)},{default:o(()=>[n(r(e.value.cancel),1)]),_:1}),a(c,{type:"primary",onClick:Te,loading:J.value},{default:o(()=>[n(r(e.value.confirm),1)]),_:1},8,["loading"])])]),default:o(()=>[C((_(),z("div",cl,[a(le,{model:b.value,rules:Ae.value,ref_key:"addUserFormRef",ref:ie,"label-width":"100px"},{default:o(()=>[a(v,{label:e.value.ntAccount,prop:"userName"},{default:o(()=>[a(p,{modelValue:b.value.userName,"onUpdate:modelValue":l[6]||(l[6]=t=>b.value.userName=t),maxlength:"15",placeholder:e.value.enterUsername,style:{width:"250px"},clearable:""},null,8,["modelValue","placeholder"]),a(fe,null,{content:o(()=>[]),default:o(()=>[a(me,{size:18,color:"#b1b3b8"},{default:o(()=>[a(be(ge))]),_:1})]),_:1})]),_:1},8,["label"]),a(v,{label:e.value.userName,prop:"userNick"},{default:o(()=>[a(p,{modelValue:b.value.userNick,"onUpdate:modelValue":l[7]||(l[7]=t=>b.value.userNick=t),maxlength:"16",placeholder:e.value.enterNickname,style:{width:"250px"},clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(v,{label:e.value.phone,prop:"phone"},{default:o(()=>[a(p,{modelValue:b.value.phone,"onUpdate:modelValue":l[8]||(l[8]=t=>b.value.phone=t),maxlength:"20",placeholder:e.value.enterPhone,style:{width:"250px"},clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(v,{label:e.value.department,prop:"department"},{default:o(()=>[a(p,{modelValue:b.value.department,"onUpdate:modelValue":l[9]||(l[9]=t=>b.value.department=t),maxlength:"20",placeholder:e.value.selectDepartment,style:{width:"250px"},clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(v,{label:e.value.email,prop:"email"},{default:o(()=>[a(p,{modelValue:b.value.email,"onUpdate:modelValue":l[10]||(l[10]=t=>b.value.email=t),maxlength:"30",placeholder:e.value.enterEmail,style:{width:"250px"},clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(v,{label:e.value.gender,prop:"sex"},{default:o(()=>[a(T,{modelValue:f.value.sex,"onUpdate:modelValue":l[11]||(l[11]=t=>f.value.sex=t),size:"default",placeholder:e.value.selectGender,clearable:"",style:{width:"180px"}},{default:o(()=>[a(U,{label:e.value.female,value:"0"},null,8,["label"]),a(U,{label:e.value.male,value:"1"},null,8,["label"]),a(U,{label:e.value.unknown,value:"-1"},null,8,["label"])]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),a(v,{label:e.value.enterPassword,prop:"password"},{default:o(()=>[a(p,{type:"password",modelValue:b.value.userPassword,"onUpdate:modelValue":l[12]||(l[12]=t=>b.value.userPassword=t),placeholder:e.value.enterPassword,style:{width:"250px"},"show-password":"",clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model","rules"])])),[[N,j.value]])]),_:1},8,["title","modelValue"]),a(x,{class:"edit_user_dialog",title:e.value.editUserTitle,"close-on-click-modal":!1,modelValue:E.value,"onUpdate:modelValue":l[21]||(l[21]=t=>E.value=t),width:"600"},{footer:o(()=>[i("div",hl,[a(c,{onClick:l[20]||(l[20]=t=>E.value=!1)},{default:o(()=>[n(r(e.value.cancel),1)]),_:1}),a(c,{type:"primary",onClick:De,loading:Q.value},{default:o(()=>[n(r(e.value.confirm),1)]),_:1},8,["loading"])])]),default:o(()=>[C((_(),z("div",fl,[a(le,{model:m.value,rules:Pe.value,ref_key:"editUserFormRef",ref:pe,"label-width":"100px"},{default:o(()=>[a(v,{label:e.value.ntAccount,prop:"userName"},{default:o(()=>[a(p,{modelValue:m.value.userName,"onUpdate:modelValue":l[15]||(l[15]=t=>m.value.userName=t),disabled:"",maxlength:"15",placeholder:e.value.enterUsername,style:{width:"250px"},clearable:""},null,8,["modelValue","placeholder"]),a(fe,null,{content:o(()=>[]),default:o(()=>[a(me,{size:18,color:"#b1b3b8"},{default:o(()=>[a(be(ge))]),_:1})]),_:1})]),_:1},8,["label"]),a(v,{label:e.value.userName,prop:"userNick"},{default:o(()=>[a(p,{modelValue:m.value.userNick,"onUpdate:modelValue":l[16]||(l[16]=t=>m.value.userNick=t),maxlength:"16",placeholder:e.value.enterNickname,style:{width:"250px"},clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(v,{label:e.value.phone,prop:"phone"},{default:o(()=>[a(p,{modelValue:m.value.phone,"onUpdate:modelValue":l[17]||(l[17]=t=>m.value.phone=t),maxlength:"20",placeholder:e.value.enterPhone,style:{width:"250px"},clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(v,{label:e.value.email,prop:"email"},{default:o(()=>[a(p,{modelValue:m.value.email,"onUpdate:modelValue":l[18]||(l[18]=t=>m.value.email=t),maxlength:"30",placeholder:e.value.enterEmail,style:{width:"250px"},clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(v,{label:e.value.gender,prop:"sex"},{default:o(()=>[a(T,{modelValue:m.value.sex,"onUpdate:modelValue":l[19]||(l[19]=t=>m.value.sex=t),size:"default",placeholder:e.value.selectGender,clearable:"",style:{width:"180px"}},{default:o(()=>[a(U,{label:e.value.female,value:0},null,8,["label"]),a(U,{label:e.value.male,value:1},null,8,["label"]),a(U,{label:e.value.unknown,value:-1},null,8,["label"])]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model","rules"])])),[[N,K.value]])]),_:1},8,["title","modelValue"]),a(x,{title:e.value.deleteUserTitle,"close-on-click-modal":!1,modelValue:F.value,"onUpdate:modelValue":l[23]||(l[23]=t=>F.value=t),width:"400"},{footer:o(()=>[i("div",bl,[a(c,{onClick:l[22]||(l[22]=t=>F.value=!1)},{default:o(()=>[n(r(e.value.cancel),1)]),_:1}),a(c,{type:"primary",onClick:Fe,loading:Y.value},{default:o(()=>[n(r(e.value.confirm),1)]),_:1},8,["loading"])])]),default:o(()=>[i("div",_l,[i("p",null,r($e.value),1)])]),_:1},8,["title","modelValue"]),a(x,{title:e.value.restoreUserTitle,"close-on-click-modal":!1,modelValue:q.value,"onUpdate:modelValue":l[25]||(l[25]=t=>q.value=t),width:"400"},{footer:o(()=>[i("div",yl,[a(c,{onClick:l[24]||(l[24]=t=>q.value=!1)},{default:o(()=>[n(r(e.value.cancel),1)]),_:1}),a(c,{type:"primary",onClick:Ge,loading:Z.value},{default:o(()=>[n(r(e.value.confirm),1)]),_:1},8,["loading"])])]),default:o(()=>[i("div",gl,[i("p",null,r(qe.value),1)])]),_:1},8,["title","modelValue"]),a(x,{title:e.value.deleteUserTitle,"close-on-click-modal":!1,modelValue:G.value,"onUpdate:modelValue":l[27]||(l[27]=t=>G.value=t),width:"400"},{footer:o(()=>[i("div",Ul,[a(c,{onClick:l[26]||(l[26]=t=>G.value=!1)},{default:o(()=>[n(r(e.value.cancel),1)]),_:1}),a(c,{type:"primary",onClick:Be,loading:ee.value},{default:o(()=>[n(r(e.value.confirm),1)]),_:1},8,["loading"])])]),default:o(()=>[i("div",wl,[i("p",null,r(Me.value),1)])]),_:1},8,["title","modelValue"]),a(x,{title:e.value.resetPasswordTitle,"close-on-click-modal":!1,modelValue:$.value,"onUpdate:modelValue":l[29]||(l[29]=t=>$.value=t),width:"400"},{footer:o(()=>[i("div",zl,[a(c,{onClick:l[28]||(l[28]=t=>$.value=!1)},{default:o(()=>[n(r(e.value.cancel),1)]),_:1}),a(c,{type:"primary",onClick:Ie,loading:W.value},{default:o(()=>[n(r(e.value.confirm),1)]),_:1},8,["loading"])])]),default:o(()=>[i("div",Vl,[i("p",{innerHTML:Se.value},null,8,xl)])]),_:1},8,["title","modelValue"]),a(x,{title:e.value.assignRoleTitle,"close-on-click-modal":!1,modelValue:A.value,"onUpdate:modelValue":l[32]||(l[32]=t=>A.value=t),width:"400"},{footer:o(()=>[i("div",Nl,[a(c,{onClick:l[31]||(l[31]=t=>A.value=!1)},{default:o(()=>[n(r(e.value.cancel),1)]),_:1}),a(c,{type:"primary",onClick:Ee,loading:X.value},{default:o(()=>[n(r(e.value.confirm),1)]),_:1},8,["loading"])])]),default:o(()=>[C((_(),z("div",kl,[a(T,{modelValue:m.value.userRoleId,"onUpdate:modelValue":l[30]||(l[30]=t=>m.value.userRoleId=t),placeholder:e.value.selectRole,style:{width:"250px"}},{default:o(()=>[(_(!0),z(_e,null,ll(ve.value,t=>(_(),V(U,{key:t.roleId,label:t.roleName,value:t.roleId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])])),[[N,P.value]])]),_:1},8,["title","modelValue"]),a(x,{title:e.value.updateApproverTitle,"close-on-click-modal":!1,modelValue:R.value,"onUpdate:modelValue":l[34]||(l[34]=t=>R.value=t),width:"500px",class:"update-approver-dialog","destroy-on-close":""},{footer:o(()=>[i("div",Il,[a(c,{onClick:l[33]||(l[33]=t=>R.value=!1)},{default:o(()=>[n(r(e.value.cancel),1)]),_:1}),a(c,{type:"primary",onClick:Ce,loading:I.value},{default:o(()=>[n(r(e.value.confirm),1)]),_:1},8,["loading"])])]),default:o(()=>[C((_(),z("div",Cl,[i("div",Rl,[i("div",Al,[i("span",null,r(e.value.approverUpdateInfo),1)]),i("div",Pl,r(e.value.uploadExcelPrompt),1)]),i("div",Tl,[a(Qe,{class:"upload-excel",action:"#","auto-upload":!1,"show-file-list":!0,accept:".xlsx, .xls",limit:1,"on-change":Re},{tip:o(()=>[i("div",Sl,r(e.value.uploadTip),1)]),default:o(()=>[a(c,{type:"primary",class:"upload-button"},{default:o(()=>[Dl,n(" "+r(e.value.selectExcelFile),1)]),_:1})]),_:1})])])),[[N,I.value]])]),_:1},8,["title","modelValue"])])}}},ql=We(Ll,[["__scopeId","data-v-cf931654"]]);export{ql as default};
